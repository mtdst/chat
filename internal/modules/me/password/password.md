### Пароль

#### Изменение

```http
PATCH https://api.url/me/password HTTP/1.1
```

*Изменяет пароль текущего пользователя*

##### Запрос

- Требует авторизации: да

Нагрузка (тело)
| Имя         | Тип    | Описание                                             |
| ----------- | ------ | ---------------------------------------------------- |
| password    | string | Текущий пароль                                       |
| newPassword | string | Новый пароль (>=6 символов, латинские буквы и цифры) |

##### Результат

- Возможна фильтрация: нет
- Возможен выбор полей: нет

Пример ответа в случае успеха

*тело:*
```json
null
```

##### Ошибки
- `21001` - Ошибка открытия соединения с БД
- `21002` - Ошибка чтения тела запроса
- `21003` - Ошибка парсинга тела запроса
- `21004` - Ошибка компиляции w3sql-запроса для изменения пароля
- `21005` - Ошибка выполнения SQL-запроса для изменения пароля
- `21006` - Ошибка сканирования результатов SQL-запроса для изменения пароля
- `21007` - Не передан пароль
- `21008` - Не передан код подтверждения
- `21009` - Не передан номер телефона
- `21010` - Пользователь заблокирован
- `21011` - Таймаут ожидания для отправки СМС не истёк
- `21012` - Ошибка отправки СМС
- `21013` - Некорректный номер телефона
- `21014` - Некорректный пароль
- `21015` - Ошибка авторизации

[К содержанию](#содержание)


#### Восстановление

```http
PATCH https://api.url/me/password HTTP/1.1
```

*Изменяет старый пароль по номеру телефона*

Данная операция выполняется в два шага:
1. Отправка номера телефона, инициирующая отправку кода подтверждения на него
2. Отправка номера телефона, нового пароля и кода подтверждения

##### Запрос

- Требует авторизации: нет (пользователь должен быть не авторизован)

Нагрузка (тело)
| Имя      | Тип     | Описание                                             |
| -------- | ------- | ---------------------------------------------------- |
| phone    | int     | Номер телефона                                       |
| code     | ?string | Код подтверждения                                    |
| password | ?string | Новый пароль (>=6 символов, латинские буквы и цифры) |

##### Результат

- Возможна фильтрация: нет
- Возможен выбор полей: нет

Возвращаемые поля
| Имя     | Тип  | Описание                                                               |
| ------- | ---- | ---------------------------------------------------------------------- |
| timeout | ?int | Количество секунд до возможности повторной отправки кода подтверждения |

Пример ответа в случае успеха

*тело:*
```json
{
  "timeout": 30
}
```

[К содержанию](#содержание)
